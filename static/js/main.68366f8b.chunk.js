(this["webpackJsonpgoit-react-hw-03-image-finder-test-"]=this["webpackJsonpgoit-react-hw-03-image-finder-test-"]||[]).push([[0],{45:function(t,e,n){},68:function(t,e,n){},69:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n(1),c=n.n(o),i=n(19),r=n.n(i),s=n(10),l=n(4),u=n(5),h=n(7),d=n(6),p=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(t=e.call.apply(e,[this].concat(o))).state={inputVelue:""},t.handleSabmit=function(e){e.preventDefault(),t.props.onSubmit(t.state.inputVelue),t.setState({inputVelue:""})},t.handleChange=function(e){var n=e.target.value;t.setState({inputVelue:n})},t}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state.input;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("header",{className:"Searchbar",children:Object(a.jsxs)("form",{className:"SearchForm",onSubmit:this.handleSabmit,children:[Object(a.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(a.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(a.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:t,onChange:this.handleChange})]})})})}}]),n}(o.Component),m=function(t){var e=t.img,n=t.onClick,o=e.largeImageURL,c=e.type;return Object(a.jsx)("li",{className:"ImageGalleryItem",onClick:function(){n(e.largeImageURL,e.type)},children:Object(a.jsx)("img",{src:o,alt:c,className:"ImageGalleryItem-image"})})},j=function(t){var e=t.photo,n=t.onClick;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("ul",{className:"ImageGallery",children:e.map((function(t){return Object(a.jsx)(m,{img:t,onClick:n},t.id)}))})})},b=n(20),f=n.n(b),g={apiPhoto:function(t,e){return f.a.get("https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=".concat(t,"&page=").concat(e,"&per_page=12&key=").concat("19186547-e8c2926af7125cb35de57caef"))}},O=(n(45),function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(t=e.call.apply(e,[this].concat(o))).handleKeyDown=function(e){"Escape"!==e.code&&"IMG"===e.target.nodeName||t.props.onClose()},t.handleCloseModule=function(e){t.props.onClose()},t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown),document.addEventListener("click",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown),document.addEventListener("click",this.handleKeyDown)}},{key:"render",value:function(){var t=this.props,e=t.src,n=t.alt;return Object(a.jsx)("div",{className:"Backdrop",children:Object(a.jsxs)("div",{className:"Modal",children:[Object(a.jsx)("img",{className:"Modal_img",src:e,alt:n}),Object(a.jsx)("button",{className:"Modal_btn",onClick:this.handleCloseModule,children:"X"})]})})}}]),n}(o.Component)),v=(n(46),n(21)),y=n.n(v),x=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)(y.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})}}]),n}(c.a.Component),w=n(8),S=n.n(w),k=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(t=e.call.apply(e,[this].concat(o))).state={photo:[],loading:!1,showModal:!1,src:"",alt:"",input:"",page:0},t.axiosApi=function(){t.setState({loading:!0});var e=t.state,n=e.input,a=e.page;g.apiPhoto(n,a).then((function(e){t.setState((function(t){return{photo:[].concat(Object(s.a)(t.photo),Object(s.a)(e.data.hits)),page:t.page+1}})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(t){return console.log(t)})).finally((function(){return t.setState({loading:!1})}))},t.handleSearchFormSubmit=function(e){t.setState({input:e,page:1,photo:[]})},t.toggleModal=function(){t.setState((function(t){return{showModal:!t.showModal}}))},t.onClick=function(e,n){t.setState({src:e,alt:n,showModal:!0})},t.onClose=function(){t.setState({showModal:!1})},t}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(t,e){e.input!==this.state.input&&this.axiosApi()}},{key:"render",value:function(){var t=this.state,e=t.photo,n=t.showModal,o=t.src,c=t.alt,i=t.loading;return Object(a.jsxs)(a.Fragment,{children:[i&&Object(a.jsx)("div",{className:S.a.loading_style,children:Object(a.jsx)(x,{})}),n&&Object(a.jsx)(O,{src:o,alt:c,onClose:this.onClose}),Object(a.jsx)(p,{onSubmit:this.handleSearchFormSubmit}),Object(a.jsx)(j,{photo:e,onClick:this.onClick}),e.length>0&&Object(a.jsx)("div",{className:S.a.BtnBox,children:Object(a.jsx)("button",{type:"submit",className:S.a.BtnMore,onClick:this.axiosApi,children:"load more"})})]})}}]),n}(o.Component);n(68);r.a.render(Object(a.jsx)(k,{}),document.getElementById("root"))},8:function(t,e,n){t.exports={BtnBox:"App_BtnBox__39zKZ",BtnMore:"App_BtnMore__Zt_nx"}}},[[69,1,2]]]);
//# sourceMappingURL=main.68366f8b.chunk.js.map